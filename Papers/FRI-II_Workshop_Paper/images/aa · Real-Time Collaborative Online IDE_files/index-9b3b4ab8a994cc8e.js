(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{27484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,s="millisecond",r="second",i="minute",a="hour",l="day",o="week",u="month",c="quarter",d="year",h="date",f="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),s=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+g(s,2,"0")+":"+g(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var s=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(s,u),i=n-r<0,a=t.clone().add(s+(i?-1:1),u);return+(-(s+(n-r)/(i?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:o,d:l,D:h,h:a,m:i,s:r,ms:s,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",w={};w[v]=p;var b=function(e){return e instanceof M},$=function e(t,n,s){var r;if(!t)return v;if("string"==typeof t){var i=t.toLowerCase();w[i]&&(r=i),n&&(w[i]=n,r=i);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var l=t.name;w[l]=t,r=l}return!s&&r&&(v=r),r||!s&&v},j=function(e,t){if(b(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new M(n)},N=y;N.l=$,N.i=b,N.w=function(e,t){return j(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var M=function(){function p(e){this.$L=$(e.locale,null,!0),this.parse(e)}var g=p.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(N.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(m);if(s){var r=s[2]-1||0,i=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)):new Date(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return N},g.isValid=function(){return!(this.$d.toString()===f)},g.isSame=function(e,t){var n=j(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return j(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<j(e)},g.$g=function(e,t,n){return N.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,s=!!N.u(t)||t,c=N.p(e),f=function(e,t){var r=N.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return s?r:r.endOf(l)},m=function(e,t){return N.w(n.toDate()[e].apply(n.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},x=this.$W,p=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case d:return s?f(1,0):f(31,11);case u:return s?f(1,p):f(0,p+1);case o:var v=this.$locale().weekStart||0,w=(x<v?x+7:x)-v;return f(s?g-w:g+(6-w),p);case l:case h:return m(y+"Hours",0);case a:return m(y+"Minutes",1);case i:return m(y+"Seconds",2);case r:return m(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,o=N.p(e),c="set"+(this.$u?"UTC":""),f=(n={},n[l]=c+"Date",n[h]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[a]=c+"Hours",n[i]=c+"Minutes",n[r]=c+"Seconds",n[s]=c+"Milliseconds",n)[o],m=o===l?this.$D+(t-this.$W):t;if(o===u||o===d){var x=this.clone().set(h,1);x.$d[f](m),x.init(),this.$d=x.set(h,Math.min(this.$D,x.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[N.p(e)]()},g.add=function(s,c){var h,f=this;s=Number(s);var m=N.p(c),x=function(e){var t=j(f);return N.w(t.date(t.date()+Math.round(e*s)),f)};if(m===u)return this.set(u,this.$M+s);if(m===d)return this.set(d,this.$y+s);if(m===l)return x(1);if(m===o)return x(7);var p=(h={},h[i]=t,h[a]=n,h[r]=e,h)[m]||1,g=this.$d.getTime()+s*p;return N.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var s=e||"YYYY-MM-DDTHH:mm:ssZ",r=N.z(this),i=this.$H,a=this.$m,l=this.$M,o=n.weekdays,u=n.months,c=function(e,n,r,i){return e&&(e[n]||e(t,s))||r[n].slice(0,i)},d=function(e){return N.s(i%12||12,e,"0")},h=n.meridiem||function(e,t,n){var s=e<12?"AM":"PM";return n?s.toLowerCase():s},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:N.s(l+1,2,"0"),MMM:c(n.monthsShort,l,u,3),MMMM:c(u,l),D:this.$D,DD:N.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,o,2),ddd:c(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(i),HH:N.s(i,2,"0"),h:d(1),hh:d(2),a:h(i,a,!0),A:h(i,a,!1),m:String(a),mm:N.s(a,2,"0"),s:String(this.$s),ss:N.s(this.$s,2,"0"),SSS:N.s(this.$ms,3,"0"),Z:r};return s.replace(x,(function(e,t){return t||m[e]||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(s,h,f){var m,x=N.p(h),p=j(s),g=(p.utcOffset()-this.utcOffset())*t,y=this-p,v=N.m(this,p);return v=(m={},m[d]=v/12,m[u]=v,m[c]=v/3,m[o]=(y-g)/6048e5,m[l]=(y-g)/864e5,m[a]=y/n,m[i]=y/t,m[r]=y/e,m)[x]||y,f?v:N.a(v)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return w[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),s=$(e,t,!0);return s&&(n.$L=s),n},g.clone=function(){return N.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},p}(),D=M.prototype;return j.prototype=D,[["$ms",s],["$s",r],["$m",i],["$H",a],["$W",l],["$M",u],["$y",d],["$D",h]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),j.extend=function(e,t){return e.$i||(e(t,M,j),e.$i=!0),j},j.locale=$,j.isDayjs=b,j.unix=function(e){return j(1e3*e)},j.en=w[v],j.Ls=w,j.p={},j}()},84110:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var s=t.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,r){return s.fromToBase(e,t,n,r)}n.en.relativeTime=r,s.fromToBase=function(t,s,i,a,l){for(var o,u,c,d=i.$locale().relativeTime||r,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=h.length,m=0;m<f;m+=1){var x=h[m];x.d&&(o=a?n(t).diff(i,x.d,!0):i.diff(t,x.d,!0));var p=(e.rounding||Math.round)(Math.abs(o));if(c=o>0,p<=x.r||!x.r){p<=1&&m>0&&(x=h[m-1]);var g=d[x.l];l&&(p=l(""+p)),u="string"==typeof g?g.replace("%d",p):g(p,s,x.l,c);break}}if(s)return u;var y=c?d.future:d.past;return"function"==typeof y?y(u):y.replace("%s",u)},s.to=function(e,t){return i(e,t,this,!0)},s.from=function(e,t){return i(e,t,this)};var a=function(e){return e.$u?n.utc():n()};s.toNow=function(e){return this.to(a(this),e)},s.fromNow=function(e){return this.from(a(this),e)}}}()},48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(40480)}])},40480:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var s=n(85893),r=n(67294),i=n(1345),a=n(91131),l=n(11163),o=n(15503),u=n(71309),c=n(16911),d=n(26054),h=n(41664),f=n.n(h),m=n(27484),x=n.n(m),p=n(84110),g=n.n(p),y=n(48596),v=n(38776),w=n(63585);x().extend(g());function b(e){var t=(0,w.SE)().firebaseUser;(0,v.Z)(!!t);return(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-600",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-2 text-left text-sm font-semibold text-gray-100 sm:pl-6 md:pl-0",children:"Name"}),(0,s.jsx)("th",{scope:"col",className:"py-3.5 px-2 text-left text-sm font-semibold text-gray-100",children:"Last Accessed"}),(0,s.jsx)("th",{scope:"col",className:"py-3.5 px-2 text-left text-sm font-semibold text-gray-100",children:"Created"}),(0,s.jsx)("th",{scope:"col",className:"py-3.5 px-2 text-left text-sm font-semibold text-gray-100",children:"Language"}),(0,s.jsx)("th",{scope:"col",className:"py-3.5 px-2 text-left text-sm font-semibold text-gray-100",children:"Owner"}),(0,s.jsx)("th",{scope:"col",className:"py-3.5 px-2 text-left text-sm font-semibold text-gray-100",children:"Permissions"}),(0,s.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6 md:pr-0",children:(0,s.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-700",children:e.files.map((function(e){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium sm:pl-6 md:pl-0",children:e.hidden?(0,s.jsxs)("span",{className:"text-gray-400",children:[e.title||"(Unnamed File)"," (Hidden)"]}):(0,s.jsx)(f(),{href:"/".concat(e.id.substring(1)),children:(0,s.jsx)("a",{className:"text-gray-100 hover:text-white",children:e.title||"(Unnamed File)"})})}),(0,s.jsx)("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-gray-400",children:x()(e.lastAccessTime).fromNow()}),(0,s.jsx)("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-gray-400",children:(r=e.creationTime,r?+x()()-+x()(r)<=1728e5?x()(r).fromNow():x()(r).format("MM/DD/YYYY"):"Unknown")}),(0,s.jsx)("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-gray-400",children:(n=e.language,"py"==n?"Python":"java"==n?"Java":"cpp"==n?"C++":"Unknown")}),(0,s.jsx)("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-gray-400",children:e.owner?e.owner.id===t.uid?"Me":e.owner.name:""}),(0,s.jsx)("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-gray-400",children:e.lastPermission&&e.lastPermission in y.O?y.O[e.lastPermission]:"Unknown"}),(0,s.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6 md:pr-0",children:(0,s.jsx)("button",{className:"text-indigo-400 hover:text-indigo-100",onClick:function(){return function(e){o.Z.database().ref("users").child(t.uid).child("files").child(e.id).update({hidden:!e.hidden})}(e)},children:e.hidden?"Unhide":"Hide"})})]},e.id);var n,r}))})]})})})})}var $=n(94075);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(){var e=(0,w.SE)(),t=e.firebaseUser,n=(e.userData,(0,a.b9)(u.xR)),i=(0,a.b9)(u.jf),h=(0,r.useState)(null),m=h[0],x=h[1],p=(0,r.useState)(!1),g=p[0],y=p[1],v=((0,l.useRouter)(),(0,c.K)());return(0,r.useEffect)((function(){if(t){var e=o.Z.database().ref("users").child(t.uid).child("files"),n=e.orderByChild("lastAccessTime").on("value",(function(t){if(t.exists){var n=[];t.forEach((function(t){var s=t.val(),r=t.key;o.Z.database().ref("files/"+r).on("value",(function(t){t.exists()&&e.child(r+"/language").set(t.val().settings.language)})),!g&&s.hidden||(null===r||void 0===r?void 0:r.startsWith("-"))&&(0,d.ZU)(r.substring(1))&&n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){j(e,t,n[t])}))}return e}({id:r},s))})),n.reverse(),x(n)}else x([])}));return function(){return e.off("value",n)}}}),[t,g]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsx)(f(),{href:"/new",children:(0,s.jsx)("a",{className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#1E1E1E] focus:ring-indigo-500",children:"Create New File"})})}),t.isAnonymous?(0,s.jsxs)("div",{className:"text-gray-400 mt-6",children:["Not signed in."," ",(0,s.jsx)("button",{className:"underline text-gray-200 focus:outline-none hover:bg-gray-700 p-1 leading-none transition",onClick:function(){return n(v)},children:"Sign in now"})]}):(0,s.jsxs)("div",{className:"text-gray-400 mt-6",children:["Signed in as ",t.displayName,".",(0,s.jsx)("button",{className:"underline text-gray-200 focus:outline-none hover:bg-gray-700 p-1 leading-none transition",onClick:function(){return i(v)},children:"Sign Out"})]}),(0,s.jsx)("div",{className:"h-12"}),(0,s.jsx)("h2",{className:"text-gray-100 text-2xl md:text-4xl font-black",children:"Your Workspaces"}),(0,s.jsx)("div",{className:"h-6"}),(0,s.jsx)($.D,{title:"Show Hidden Files?",value:g,onChange:y,options:[{label:"Yes",value:!0},{label:"No",value:!1}],lightMode:!0}),(0,s.jsx)("div",{className:"h-6"}),m&&m.length>0&&(0,s.jsx)(b,{files:m,showPerms:!1}),!m&&(0,s.jsx)("div",{className:"text-gray-400",children:"Loading files..."})]})}var M=r.forwardRef((function({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}))}));function D(){var e=(0,w.tO)().userData;return(0,r.useEffect)((function(){document.title="Real-Time Collaborative Online IDE"}),[]),(0,s.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 lg:p-12 min-h-full flex flex-col max-w-6xl mx-auto",children:[(0,s.jsx)(i.I,{}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-gray-100 text-2xl md:text-4xl font-black",children:"Real-Time Collaborative Online IDE"}),(0,s.jsx)("div",{className:"my-6",children:(0,s.jsx)("div",{className:"rounded-md bg-blue-800/25 p-4 max-w-3xl",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(M,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-blue-100",children:"Welcome to the new IDE!"}),(0,s.jsx)("div",{className:"mt-2 text-sm text-blue-200",children:(0,s.jsxs)("p",{children:["This new IDE should have improved performance and stability. The"," ",(0,s.jsx)("a",{href:"https://legacy.ide.usaco.guide/",target:"_blank",className:"text-blue-100 underline",children:"old IDE"})," ","will eventually be removed."," ",(0,s.jsxs)("span",{className:"text-white font-medium",children:["Files on the old IDE are not available on the new IDE, but can still be temporarily accessed at"," ",(0,s.jsx)("a",{href:"https://legacy.ide.usaco.guide/",target:"_blank",className:"text-blue-100 underline",children:"https://legacy.ide.usaco.guide/"}),"."]})," ","For more information, and to report issues,"," ",(0,s.jsx)("a",{href:"https://github.com/cpinitiative/ide/issues/98",target:"_blank",className:"text-blue-100 underline",children:"visit our GitHub repository"}),"."]})})]})]})})}),e?(0,s.jsx)(N,{}):(0,s.jsx)("div",{className:"text-gray-400 mt-6",children:"Loading..."})]}),(0,s.jsxs)("div",{className:"mt-6 text-gray-400",children:["Looking to get better at USACO? Check out the"," ",(0,s.jsx)("a",{href:"https://usaco.guide/",target:"_blank",rel:"noreferrer",className:"underline hover:text-white",children:"USACO Guide"}),"!",(0,s.jsx)("br",{}),"Not for commercial use."]})]})}}},function(e){e.O(0,[3424,6063,2613,9774,2888,179],(function(){return t=48312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);