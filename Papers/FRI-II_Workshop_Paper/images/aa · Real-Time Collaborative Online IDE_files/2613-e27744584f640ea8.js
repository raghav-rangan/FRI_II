"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2613],{71309:function(e,t,n){n.d(t,{_$:function(){return s},jf:function(){return l},xR:function(){return o}});var r=n(91131),i=n(15503),a=n(19330),s=(0,r.cn)(null),o=(0,r.cn)(null,(function(e,t,n){var r=new i.Z.auth.GoogleAuthProvider,o=i.Z.auth().currentUser,l=n.getConnectionRefs();n.clearConnectionRefs(),a.x?t(s,(function(){return function(){return i.Z.auth().signInWithPopup(r)}})):null===o||void 0===o||o.linkWithPopup(r).then((function(e){var t,n,r=null===(n=null===(t=e.user)||void 0===t?void 0:t.providerData[0])||void 0===n?void 0:n.displayName;r&&i.Z.auth().currentUser.updateProfile({displayName:r})})).catch((function(e){"auth/credential-already-in-use"===e.code?t(s,(function(){return function(){return i.Z.auth().signInWithCredential(e.credential)}})):(alert("Error signing in: "+e),l.forEach((function(e){return n.addConnectionRef(e)})))}))})),l=(0,r.cn)(null,(function(e,t,n){n.clearConnectionRefs(),i.Z.auth().signOut()}))},1345:function(e,t,n){n.d(t,{I:function(){return f}});var r=n(85893),i=n(67294),a=n(11355),s=n(85479),o=n(6244),l=n(91131),u=n(71309);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){var e=d((0,l.KO)(u._$),2),t=e[0],n=e[1];return(0,r.jsx)(a.u.Root,{show:!!t,as:i.Fragment,children:(0,r.jsx)(s.V,{as:"div",open:!!t,className:"fixed z-10 inset-0 overflow-y-auto",onClose:function(){return n(null)},children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)(a.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(s.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)(a.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,r.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,r.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,r.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,r.jsx)(o.Z,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,r.jsx)(s.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Override Local Data?"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Your local data will be overwritten by your server data. Are you sure you want to proceed?"})})]})]}),(0,r.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){return t().then((function(){return n(null)}))},children:"Override Data"}),(0,r.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:function(){return n(null)},children:"Cancel"})]})]})})]})})})}},48596:function(e,t,n){n.d(t,{O:function(){return x},Q:function(){return b}});var r=n(85893),i=n(27047),a=n(67294),s=n(73935),o=n(51828),l=n(11355),u=n(25962),c=n(94184),d=n.n(c),f=n(66441),m=n(63585),h=n(10391),p=n(48313),y=n(15503);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var x={OWNER:"Owner",READ_WRITE:"Read & Write",READ:"View Only",PRIVATE:"No Access"},b=function(e){var t=e.user,n=(0,m.SE)().userData,c=(0,h.Z)(),g=(0,p._)().fileData,b=g.settings.defaultPermission,j=(0,a.useState)(null),w=j[0],N=j[1],O=(0,a.useState)(null),E=O[0],D=O[1],k=(0,f.D)(w,E,{placement:"bottom-end"}),A=k.styles,S=k.attributes;if(!c||!b)return null;return(0,r.jsxs)("li",{className:"py-2 flex",children:[(0,r.jsxs)("span",{className:"relative h-5 w-5",children:[(0,r.jsx)("span",{className:"inline-block h-5 w-5 rounded",style:{backgroundColor:t.color}}),(0,r.jsx)("span",{className:"absolute bottom-0 right-0 transform translate-y-1/3 translate-x-1/3 block rounded-full",children:(0,r.jsx)("span",{className:"block h-3 w-3 rounded-full ".concat((0,i.k)(t)?"bg-green-400":"bg-gray-400")})})]}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsxs)("p",{className:"text-sm font-medium ".concat((0,i.k)(t)?"text-gray-300":"text-gray-400"),children:[t.name,t.id===n.id?" (Me)":""]}),(0,r.jsx)("p",{className:"text-sm ".concat((0,i.k)(t)?"text-gray-400":"text-gray-500"),children:t.permission?x[t.permission]:"Default (".concat(x[b],")")})]}),t.id!==n.id&&"OWNER"===c&&(0,r.jsx)(o.v,{children:function(e){var n=e.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsxs)(o.v.Button,{className:"bg-[#1E1E1E] rounded-full flex items-center text-gray-500 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#1E1E1E] focus:ring-indigo-500",ref:N,children:[(0,r.jsx)("span",{className:"sr-only",children:"Open options"}),(0,r.jsx)(u.Z,{className:"h-5 w-5","aria-hidden":"true"})]})}),(0,r.jsx)(l.u,{show:n,children:s.createPortal((0,r.jsx)(o.v.Items,{as:"div",static:!0,children:(0,r.jsx)("div",v({ref:D,style:A.popper},S.popper,{className:"relative",children:(0,r.jsx)(l.u.Child,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)("div",{className:"origin-top-right absolute right-0 bg-gray-800 rounded-md mt-2 w-48 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,r.jsx)("div",{className:"py-1",children:[["OWNER","Owner"],["READ_WRITE","Read & Write"],["READ","View Only"],["DEFAULT","Default (".concat(x[b],")")],["PRIVATE","Blocked"]].map((function(e){return(0,r.jsx)(o.v.Item,{children:function(n){var i=n.active;return(0,r.jsx)("button",{className:d()(i?"bg-gray-700 text-gray-100":"text-gray-200","w-full text-left block px-4 py-2 text-sm focus:outline-none"),onClick:function(){return n=t,void("DEFAULT"===(r=e[0])?y.Z.database().ref("files/".concat(g.id)).child("users").child(n.id).child("permission").remove():y.Z.database().ref("files/".concat(g.id)).child("users").child(n.id).update({permission:r}));var n,r},children:e[1]})}},e[0])}))})})})}))}),document.body)})]})}})]},t.id)}},94075:function(e,t,n){n.d(t,{D:function(){return o}});var r=n(85893),i=n(70027),a=n(94184),s=n.n(a);n(67294);function o(e){var t=e.title,n=e.value,a=e.onChange,o=e.options,l=e.disabled,u=e.lightMode;return(0,r.jsxs)(i.E,{value:n,onChange:a,disabled:l,children:[(0,r.jsx)(i.E.Label,{as:"div",className:s()("font-medium mb-2",u?"text-white":""),children:t}),(0,r.jsx)("div",{className:"rounded-md space-y-2",children:o.map((function(e){return(0,r.jsx)(i.E.Option,{value:e.value,className:"relative flex items-center cursor-pointer focus:outline-none",children:function(t){var n=t.active,a=t.checked;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:s()(a?"bg-indigo-600 border-transparent":"bg-white border-gray-300",n?"ring-2 ring-offset-2 ring-indigo-500":"","h-4 w-4 mt-0.5 cursor-pointer rounded-full border flex items-center justify-center"),"aria-hidden":"true",children:(0,r.jsx)("span",{className:"rounded-full bg-white w-1.5 h-1.5"})}),(0,r.jsx)("div",{className:"ml-2 flex flex-col",children:(0,r.jsx)(i.E.Label,{as:"span",className:s()(a?u?"text-gray-200":"text-gray-800":u?"text-gray-400":"text-gray-600","block text-sm font-medium"),children:e.label})})]})}},e.label)}))})]})}},48313:function(e,t,n){n.d(t,{K:function(){return c},_:function(){return u}});var r=n(85893),i=n(15503),a=n(67294),s=n(63585);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,a.createContext)(null);function u(){var e=(0,a.useContext)(l);if(!e)throw new Error("useEditorContext must be used within an EditorProvider");return e}function c(e){var t,n=e.fileId,u=e.loadingUI,c=e.fileNotFoundUI,d=e.permissionDeniedUI,f=e.children,m=(0,s.SE)().userData,h=(0,a.useState)(null),p=h[0],y=h[1],g=(0,a.useState)(!0),v=g[0],x=g[1],b=(0,a.useRef)({});(0,a.useEffect)((function(){x(!0);var e=function(e){x(!1),y(e.exists()?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({id:e.key},e.val()):null)};return i.Z.database().ref("files/"+n).on("value",e),function(){return i.Z.database().ref("files/"+n).off("value",e)}}),[n]);var j,w=(0,a.useCallback)((function(e){return i.Z.database().ref("files/"+n).update(e)}),[n]),N=(0,a.useMemo)((function(){return{fileData:p,updateFileData:w,doNotInitializeTheseFileIdsRef:b}}),[p,w,b]);return v?(0,r.jsx)(r.Fragment,{children:u}):N.fileData?"PRIVATE"===(null!==(j=null===(t=N.fileData.users[m.id])||void 0===t?void 0:t.permission)&&void 0!==j?j:N.fileData.settings.defaultPermission)?(0,r.jsx)(r.Fragment,{children:d}):(0,r.jsx)(l.Provider,{value:N,children:f}):(0,r.jsx)(r.Fragment,{children:c})}},26054:function(e,t,n){function r(e){return/^(?!\.\.?$)(?!.*__.*__)([^/]{1,1500})$/.test(e)&&19===e.length}function i(e,t,n){if(e.statusDescription={success:"Successful",compile_error:"Compilation Error",runtime_error:"Runtime Error",internal_error:"Internal Server Error",time_limit_exceeded:"Time Limit Exceeded",wrong_answer:"Wrong Answer"}[e.status],e.fileOutput&&(e.stdout=e.fileOutput),t&&"success"===e.status){var r;e.statusDescription="Successful";var i=null!==(r=e.stdout)&&void 0!==r?r:"";if(i.endsWith("\n")||(i+="\n"),"success"===e.status&&i!==t){e.status="wrong_answer";var a=function(e){for(var t=e.replace(/ /g,"\u2423"),n=e.split("\n"),r=0;r<n.length;++r)n[r]=n[r].trim();return{replaced:t,cleaned:n.join("\n").trim()}}(i),s=a.cleaned,o=a.replaced;s===t.trim()?(e.statusDescription="Wrong Answer (Extra Whitespace)",e.stdout=o):e.statusDescription="Wrong Answer"}}n&&"compile_error"!==e.status&&(e.statusDescription=n+e.statusDescription)}n.d(t,{QA:function(){return i},ZU:function(){return r}})},27047:function(e,t,n){n.d(t,{k:function(){return o},y:function(){return l}});var r=n(48313);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=function(e){return Object.keys((null===e||void 0===e?void 0:e.connections)||{}).length>0};function l(){var e=(0,r._)().fileData;return Object.entries(e.users).map((function(e){var t=s(e,2);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({id:t[0]},t[1])}))}},10391:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(48313),i=n(63585);function a(){var e,t,n=(0,r._)().fileData,a=(0,i.SE)().userData;return null!==(t=null===(e=n.users[a.id])||void 0===e?void 0:e.permission)&&void 0!==t?t:n.settings.defaultPermission}}}]);