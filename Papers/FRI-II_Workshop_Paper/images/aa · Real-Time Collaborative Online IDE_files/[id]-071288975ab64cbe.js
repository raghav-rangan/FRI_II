(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3112],{96877:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[id]",function(){return n(26199)}])},26199:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ft}});var r=n(34051),a=n.n(r),i=n(85893),o=n(11163),s=n(18305),l=n(51828),c=n(11355),u=n(57349),d=n(77e3),f=n(86897),m=n(91053),p=n(6558),g=n(65081),h=n(67294),x=n(94184),b=n.n(x),v=n(73935),y=n(66441),j=n(62179),w=n(91131),N=n(48313),O={cpp:'// Source: https://usaco.guide/general/io\n\n#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\tint a, b, c; cin >> a >> b >> c;\n\tcout << "The sum of these three numbers is " << a + b + c << "\\n";\n}\n',java:'// Source: https://usaco.guide/general/io\n\nimport java.io.*;\nimport java.util.StringTokenizer;\n\npublic class Main {\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader r = new BufferedReader(new InputStreamReader(System.in));\n\t\tPrintWriter pw = new PrintWriter(System.out);\n\n\t\tStringTokenizer st = new StringTokenizer(r.readLine());\n\t\tint a = Integer.parseInt(st.nextToken());\n\t\tint b = Integer.parseInt(st.nextToken());\n\t\tint c = Integer.parseInt(st.nextToken());\n\t\tpw.print("The sum of these three numbers is ");\n\t\tpw.println(a + b + c);\n\t\t/*\n\t\t * Make sure to include the line below, as it\n\t\t * flushes and closes the output stream.\n\t\t */\n\t\tpw.close();\n\t}\n}\n',py:'# Source: https://usaco.guide/general/io\n\na, b, c = map(int, input().split())\nprint("The sum of these three numbers is", a + b + c)\n'};function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){var t=Array.from(e.matchAll(/public +class +(\w+)/g));return t.length>0?t[0][1]+".java":"Main.java"},E=function(e,t,n,r,a){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({sourceCode:t,filename:{cpp:"main.cpp",java:k(t),py:"main.py"}[e],language:e,input:n,compilerOptions:r},a?{fileIOName:a}:{});return fetch("https://ggzk2rm2ad.execute-api.us-west-1.amazonaws.com/Prod/execute",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)})},C=n(10391);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}var A=function(e){var t=(0,N._)().fileData,n=(0,w.Dv)(j.wN),r=(0,C.Z)(),a=(0,h.useState)(null),o=a[0],s=a[1],x=(0,h.useState)(null),S=x[0],E=x[1],T=(0,y.D)(o,S,{placement:"bottom-start"}),A=T.styles,D=T.attributes,R="OWNER"===r||"READ_WRITE"===r,P=(0,h.useState)(!1),_=P[0],M=P[1];(0,h.useEffect)((function(){M(!0)}),[]);var F=function(){if(n){var e=n.getValue();!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}({cpp:"".concat(t.settings.workspaceName,".cpp"),java:k(e),py:"".concat(t.settings.workspaceName,".py")}[t.settings.language],e)}else alert("Editor hasn't loaded yet. Please wait.")},W=function(){n?confirm("Reset current file? Any changes you made will be lost.")&&n.setValue(O[t.settings.language]):alert("Editor hasn't loaded yet, please wait")},Z="/".concat(t.id.substring(1),"/copy");return(0,i.jsx)(l.v,{as:"div",className:"relative inline-block text-left",children:function(t){var n=t.open;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsxs)(l.v.Button,{className:"relative inline-flex items-center px-4 py-2 shadow-sm text-sm font-medium text-gray-200 hover:bg-gray-800 focus:bg-gray-800 focus:outline-none",ref:s,children:["File",(0,i.jsx)(u.Z,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),(0,i.jsx)(c.u,{show:n,children:_?v.createPortal((0,i.jsx)(l.v.Items,{static:!0,as:"div",children:(0,i.jsx)("div",I({ref:E,style:A.popper},D.popper,{className:"relative",children:(0,i.jsx)(c.u.Child,{as:h.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,i.jsx)("div",{className:"origin-top-left absolute z-10 left-0 w-56 shadow-lg bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,i.jsxs)("div",{className:"py-1",children:[(0,i.jsx)(l.v.Item,{children:function(e){var t=e.active;return(0,i.jsxs)("a",{href:"/new",target:"_blank",className:b()(t?"bg-gray-700 text-gray-100":"text-gray-200","group flex items-center px-4 py-2 text-sm"),children:[(0,i.jsx)(d.Z,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-300","aria-hidden":"true"}),"New File"]})}}),(0,i.jsx)(l.v.Item,{children:function(e){var t=e.active;return(0,i.jsxs)("button",{type:"button",className:b()(t?"bg-gray-700 text-gray-100":"text-gray-200","group flex items-center px-4 py-2 text-sm w-full focus:outline-none"),onClick:F,children:[(0,i.jsx)(f.Z,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-300","aria-hidden":"true"}),"Download File"]})}}),(0,i.jsx)(l.v.Item,{children:function(e){var t=e.active;return(0,i.jsxs)("a",{href:Z,target:"_blank",rel:"noreferrer",className:b()(t?"bg-gray-700 text-gray-100":"text-gray-200","group flex items-center px-4 py-2 text-sm w-full focus:outline-none"),children:[(0,i.jsx)(m.Z,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-300","aria-hidden":"true"}),"Clone File"]})}}),R&&(0,i.jsx)(l.v.Item,{children:function(e){var t=e.active;return(0,i.jsxs)("button",{type:"button",className:b()(t?"bg-gray-700 text-gray-100":"text-gray-200","group flex items-center px-4 py-2 text-sm w-full focus:outline-none"),onClick:W,children:[(0,i.jsx)(p.Z,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-300","aria-hidden":"true"}),"Reset File to Template"]})}}),(0,i.jsx)(l.v.Item,{children:function(t){var n=t.active;return(0,i.jsxs)("button",{type:"button",className:b()(n?"bg-gray-700 text-gray-100":"text-gray-200","group flex items-center px-4 py-2 text-sm w-full focus:outline-none"),onClick:function(){return e.onOpenSettings()},children:[(0,i.jsx)(g.Z,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-300","aria-hidden":"true"}),"Settings"]})}})]})})})}))}),document.body):null})]})}})},D=n(89618),R=n(40094),P=n(17524),_=n(20013),M=n(27047),F=n(41664),W=n.n(F),Z=function(e){var t=(0,M.y)(),n=null===t||void 0===t?void 0:t.filter(M.k).length,r=(0,h.useState)(!1),a=r[0],o=r[1];return(0,i.jsxs)("div",{className:"flex items-center overflow-x-auto",children:[(0,i.jsxs)("div",{className:"flex items-center divide-x divide-gray-700",children:[(0,i.jsx)(W(),{href:"/",children:(0,i.jsx)("a",{className:"relative inline-flex items-center px-4 py-2 shadow-sm text-sm font-medium text-gray-200 hover:bg-gray-800 focus:bg-gray-800 focus:outline-none",children:(0,i.jsx)(D.Z,{className:"h-5 w-5"})})}),e.fileMenu,(0,i.jsxs)("button",{type:"button",className:"relative inline-flex items-center px-4 py-2 shadow-sm text-sm font-medium text-gray-200 hover:bg-gray-800 focus:bg-gray-800 focus:outline-none",onClick:function(){navigator.clipboard.writeText(window.location.href).then((function(){o(!0),setTimeout((function(){o(!1)}),3e3)}),(function(){alert("Couldn't copy link to clipboard. Share the current URL manually.")}))},children:[(0,i.jsx)(R.Z,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),a?"URL Copied!":"Share"]})]}),e.runButton,(0,i.jsxs)("div",{className:"flex items-center divide-x divide-gray-700",children:[(0,i.jsx)("a",{href:"https://github.com/cpinitiative/ide/issues",target:"_blank",className:"px-4 py-2 text-gray-400 hover:text-gray-200 text-sm font-medium flex-shrink-0",rel:"noreferrer",children:"Report an Issue"}),(0,i.jsx)("a",{href:"https://github.com/cpinitiative/ide",target:"_blank",rel:"noreferrer",className:"px-4 py-2 text-gray-400 hover:text-gray-200 text-sm font-medium flex-shrink-0",children:"Star this on Github!"}),e.showViewOnly&&(0,i.jsx)("span",{className:"px-4 py-2 text-gray-400 text-sm font-medium",children:"View Only"})]}),(0,i.jsx)("div",{className:"flex-1"}),e.showSidebarButton&&(0,i.jsx)("div",{children:(0,i.jsxs)("button",{type:"button",className:"relative inline-flex items-center px-4 py-2 shadow-sm text-sm font-medium text-gray-200 hover:bg-gray-800 focus:bg-gray-800 focus:outline-none",onClick:function(){return e.onToggleSidebar()},children:[e.isSidebarOpen?(0,i.jsx)(P.Z,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}):(0,i.jsx)(_.Z,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),n," User",1===n?"":"s"," Online"]})})]})},U=n(31442);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function V(e){var t=e.className,n=z(e,["className"]);return(0,i.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}({fill:"none",viewBox:"0 0 24 24",className:b()("mx-auto inline-block animate-spin ",t)},n,{children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}))}var B=function(e){var t=e.onClick,n=e.showLoading,r=e.disabledForViewOnly;return(0,i.jsx)("button",{type:"button",className:"relative flex-shrink-0 inline-flex items-center px-4 py-2 w-32 shadow-sm text-sm font-medium text-white bg-indigo-900 enabled:hover:bg-indigo-800 focus:bg-indigo-800 focus:outline-none disabled:text-indigo-300/50 disabled:bg-indigo-900/50 disabled:cursor-not-allowed",onClick:t,disabled:r,title:r?"You can't run code in a view-only document.":void 0,children:n?(0,i.jsx)(V,{className:"h-5 w-5 p-0.5 text-indigo-100","data-test-id":"run-code-loading"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.Z,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),(0,i.jsx)("span",{className:"text-center flex-1",children:"Run Code"})]})})};function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H=(0,w.cn)("code"),J=(0,w.cn)(!1),$=(0,w.cn)("input"),Q=(0,w.cn)(void 0),Y=(0,w.cn)((function(e){var t=e(Q);return[{label:"Input",value:"input"}].concat(G(t?[{label:"USACO Judge",value:"judge"}]:[]),G(t?function(e){var t=[];if(1===e)t.push({label:"Sample",value:"Sample"});else for(var n=1;n<=e;++n)t.push({label:"Sample ".concat(n),value:"Sample ".concat(n)});return t}(t.samples.length):[]))})),X=(0,w.cn)((function(e){for(var t=e($),n=e(Y),r=0;r<n.length&&n[r].value!==t;)++r;return r}));function q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,h.useState)(t),r=n[0],a=n[1];return(0,h.useEffect)((function(){var t=window.matchMedia(e);t.matches!==r&&a(t.matches);var n=function(){a(t.matches)};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}),[r,e]),r}var ee=n(98865),te=n(24642),ne=n(15503),re=function(e){var t=e.chatMessage,n=e.user;return(0,i.jsxs)("p",{className:"text-gray-300 text-sm leading-4",children:[(0,i.jsx)("span",{style:(null===n||void 0===n?void 0:n.color)?{color:null===n||void 0===n?void 0:n.color}:void 0,children:(null===n||void 0===n?void 0:n.name)||"Unknown User"}),": ",t.message]})},ae=n(63585);function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var le=function(e){var t=e.className,n=(0,M.y)(),r=(0,C.Z)(),a=(0,h.useRef)(null),o=(0,h.useRef)(null),s=(0,h.useState)(""),l=s[0],c=s[1],u=(0,N._)().fileData,d=(0,ae.SE)().userData,f=Object.entries(u.chat||{}).map((function(e){var t=se(e,2);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){oe(e,t,n[t])}))}return e}({key:t[0]},t[1])})),m=function(e){var t;e&&e.preventDefault(),""!==l.trim()&&(ne.Z.database().ref("files/".concat(u.id)).child("chat").push({timestamp:ne.Z.database.ServerValue.TIMESTAMP,userId:d.id,message:l.trim()}),c(""),null===(t=o.current)||void 0===t||t.focus())};(0,h.useLayoutEffect)((function(){a.current&&(a.current.scrollTop=a.current.scrollHeight)}),[f.length]);return(0,i.jsxs)("div",{className:b()(t,"flex flex-col"),children:[(0,i.jsx)("div",{className:"font-medium text-white",children:"Chat"}),(0,i.jsx)("div",{className:"flex-1 space-y-1 mt-1 min-h-0 overflow-y-auto",ref:a,children:f&&(f.length>0?f.map((function(e){return(0,i.jsx)(re,{user:(null===n||void 0===n?void 0:n.find((function(t){return t.id===e.userId})))||null,chatMessage:e},e.key)})):(0,i.jsx)("p",{className:"text-gray-400 text-sm",children:"No chat messages."}))}),("OWNER"===r||"READ_WRITE"===r)&&(0,i.jsxs)("form",{onSubmit:m,children:[(0,i.jsx)("textarea",{className:"text-white mt-1 block w-full bg-[#1E1E1E] border-0 px-0 focus:ring-0 focus:placeholder-gray-400 text-sm",placeholder:"Send a message",rows:3,value:l,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||e.ctrlKey||e.shiftKey||(e.preventDefault(),m())},ref:o}),(0,i.jsx)("button",{className:"mt-1 block w-full py-2 text-sm uppercase font-bold text-indigo-300 hover:text-indigo-100 bg-indigo-900 bg-opacity-50 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:"Send"})]})]})},ce=n(5152);function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=n.n(ce)()((function(){return Promise.all([n.e(2440),n.e(7811),n.e(2599),n.e(7424)]).then(n.bind(n,87424))}),{loadableGenerated:{webpack:function(){return[87424]}},loading:function(){return(0,i.jsx)("div",{children:"Loading..."})},ssr:!1}),fe=function(e){return(0,i.jsx)(de,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ue(e,t,n[t])}))}return e}({},e))};function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ge=function(e){var t=e.className,n=(0,N._)().fileData,r=n.settings.language,a=(0,C.Z)(),o=!("OWNER"===a||"READ_WRITE"===a),s=(0,h.useState)(null),l=s[0],c=s[1],u=pe((0,w.KO)(j.wN),2)[1];(0,h.useEffect)((function(){if(l)return u(l),function(){u(null)}}),[l,u]);var d=(0,ae.SE)().userData,f=d.tabSize,m=d.lightMode;return(0,i.jsxs)("div",{className:b()("bg-[#1E1E1E] text-gray-200 flex flex-col",t),children:[(0,i.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,i.jsx)(fe,{theme:m?"light":"vs-dark",language:{cpp:"cpp",java:"java",py:"python"}[r],path:"myfile.".concat(r),options:{minimap:{enabled:!1},automaticLayout:!1,tabSize:f,insertSpaces:!1,readOnly:o,"bracketPairColorization.enabled":!0,acceptSuggestionOnCommitCharacter:!1},onMount:function(e){c(e),setTimeout((function(){e.layout(),e.focus()}),0)},defaultValue:O[r],yjsDocumentId:"".concat(n.id,".").concat(r),useEditorWithVim:!0,lspEnabled:"cpp"===r,dataTestId:"code-editor"})}),(0,i.jsx)("p",{className:"text-sm font-mono text-gray-200 pl-4 status-node"})]})},he=function(e){var t=e.data,n="Correct answer"===t.title?"bg-green-700 border-green-700":"bg-red-700 border-red-700",r="Correct answer"===t.title?"text-green-100":"text-red-100";return(0,i.jsxs)("div",{className:"m-1 inline-block w-[70px] h-[60px] bg-opacity-50 border ".concat(n," relative"),title:t.title,children:[(0,i.jsx)("div",{className:"font-bold text-center text-[2.5rem] ".concat(r," leading-10"),children:t.symbol}),(0,i.jsx)("span",{className:"absolute bottom-0 left-[4px] ".concat(r," text-[0.8125rem] font-bold"),children:t.trialNum}),(0,i.jsxs)("span",{className:"absolute bottom-0 right-0 text-right ".concat(r," leading-3 p-[2px] text-[0.625rem]"),children:[t.memory,(0,i.jsx)("br",{}),t.time]})]})};function xe(e){var t=e.data;if(!t)return null;var n=!1,r=t.output;if(t.message.includes("Incorrect")&&r){for(var a,o=r.split("\n"),s=[],l=[],c=0;c<o.length;++c)!o[c].endsWith(":")||0!=c&&""!==o[c-1]||s.push(c);s.push(o.length);for(var u=0;u+1<s.length;++u)if(s[u]+3!=s[u+1]||"[File missing!]"!==o[s[u]+1]){for(var d="",f=s[u]+1;f<s[u+1]-1;++f)d+=o[f].trim()+"\n",o[f]=o[f].replace(/ /g,"\u2423");l.push(d)}(n=l[0].trim()===(null===(a=l[1])||void 0===a?void 0:a.trim()))&&(r=o.join("\n"))}return(0,i.jsxs)("div",{className:"mt-3",children:[(0,i.jsx)("p",{className:"font-bold text-gray-200",children:t.message}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("pre",{className:"font-mono text-red-300 leading-tight mt-1 text-sm",children:r}),n&&(0,i.jsxs)("p",{className:"font-bold text-gray-200 mt-3",children:["Your output contains extra whitespace. This is an error; see"," ",(0,i.jsx)("a",{href:"https://usaco.guide/general/io?lang=cpp#usaco-note---extra-whitespace",className:"text-indigo-300",children:"here"})," ","for details."]})]}),(0,i.jsx)("div",{className:"text-center",children:t.testCases&&t.testCases.map((function(e){return(0,i.jsx)(he,{data:e},e.trialNum)}))})]})}function be(e){var t=e.isLoading,n=e.isDisabled,r=e.onClick;return(0,i.jsx)("button",{className:b()("block w-full py-2 text-sm uppercase font-bold transition focus:outline-none",t||n?"cursor-not-allowed bg-indigo-900 bg-opacity-50 text-indigo-200 opacity-50":"text-indigo-200 hover:text-indigo-100 hover:bg-indigo-800 hover:bg-opacity-50 bg-indigo-900 bg-opacity-50"),disabled:t||n,onClick:r,children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(V,{className:"h-5 w-5 p-0.5 mr-1.5"}),(0,i.jsx)("span",{children:"Loading..."})]}):n?"Cannot Submit":"Submit"})}function ve(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ve(i,r,a,o,s,"next",e)}function s(e){ve(i,r,a,o,s,"throw",e)}o(void 0)}))}}var je="https://vjudge.usaco.guide";function we(e){var t=e.split(" ");return t[0]=t[0].substring(2),"US"===t[1]?t[1]="open":t[1]=t[1].toLowerCase().substring(0,3),"http://www.usaco.org/index.php?page=".concat(t[1]).concat(t[0],"results")}function Ne(e){var t,n=e.problem,r=e.statusData,o=e.setStatusData,s=e.handleRunCode,l=(0,w.Dv)(j.wN),c=(0,N._)().fileData.settings.language,u=function(){var e=ye(a().mark((function e(){var t,r,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&c){e.next=3;break}return alert("Error: Page still loading?"),e.abrupt("return");case 3:return o({message:"Sending submission to server",statusCode:-100}),t={problemID:n.id,language:{cpp:"c++17",java:"java",py:"python3"}[c],base64Code:(u=l.getValue(),btoa(unescape(encodeURIComponent(u||""))))},e.next=7,fetch("".concat(je,"/submit"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.text();case 10:i=e.sent,s=function(){var e=ye(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(je,"/submission/").concat(i));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n),n.statusCode&&parseInt(n.statusCode)<=-8&&setTimeout(s,1e3);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTimeout(s,1e3);case 13:case"end":return e.stop()}var u}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,i.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,i.jsxs)("div",{className:"p-4 pb-0",children:[(0,i.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Early access. Report issues to Github. Do not spam submit."}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"text-gray-100 font-bold text-lg",children:(0,i.jsx)("a",{href:we(n.source||""),className:"text-indigo-300",target:"_blank",rel:"noreferrer",children:n.source})}),(0,i.jsx)("p",{className:"text-gray-100 font-bold text-lg",children:(0,i.jsx)("a",{href:n.url,className:"text-indigo-300",target:"_blank",rel:"noreferrer",children:n.title})}),(0,i.jsxs)("p",{className:"text-gray-100 text-sm mb-4",children:[(0,i.jsx)("span",{className:"font-bold",children:"I/O:"})," ",n.input,"/",n.output,n.input.includes(".in")&&(0,i.jsxs)(i.Fragment,{children:[" ",'("Run Samples" supports both file I/O and stdin/stdout)']})]}),n.samples.length>0&&(0,i.jsxs)("button",{type:"button",className:"relative flex-shrink-0 inline-flex items-center px-4 py-2 w-40 shadow-sm text-sm font-medium text-white bg-indigo-900 hover:bg-indigo-800 focus:bg-indigo-800 focus:outline-none",onClick:s,children:[(0,i.jsx)(U.Z,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),(0,i.jsx)("span",{className:"text-center flex-1",children:"Run Samples"})]})]})]}),(0,i.jsx)("div",{className:"px-4",children:(0,i.jsx)(xe,{data:r})})]}),(0,i.jsx)(be,{isLoading:(null!==(t=null===r||void 0===r?void 0:r.statusCode)&&void 0!==t?t:0)<=-8,isDisabled:!n.submittable,onClick:function(){return u()}})]})}var Oe=function(e){var t=e.tabs,n=e.activeTab,r=e.onTabSelect;return(0,i.jsx)("div",{className:"flex bg-black",children:(0,i.jsx)("div",{className:"flex-1",children:t.map((function(e){return(0,i.jsx)("button",{className:b()(e.value===n?"bg-[#1E1E1E] text-gray-200":"text-gray-400 hover:text-gray-300 hover:bg-gray-800 active:bg-gray-800","px-4 py-0.5 font-medium text-sm focus:outline-none transition"),onClick:function(){r&&r(e)},children:e.label},e.value)}))})})},Se=n(24070),ke=[{label:"stdout",value:"stdout"},{label:"stderr",value:"stderr"},{label:"compile output",value:"compile_output"},{label:"scribble",value:"scribble"}],Ee=function(e){var t=e.result,n=e.onMount,r=(0,h.useState)("stdout"),a=r[0],o=r[1];(0,h.useEffect)((function(){var e=null;"compile_error"===(null===t||void 0===t?void 0:t.status)||"internal_error"===(null===t||void 0===t?void 0:t.status)?e="compile_output":(null===t||void 0===t?void 0:t.stdout)?e="stdout":(null===t||void 0===t?void 0:t.stderr)&&(e="stderr"),e&&o(e)}),[t]);var s,l,c,u,d=(0,C.Z)(),f=!("OWNER"===d||"READ_WRITE"===d);"scribble"!==a&&(s="internal_error"===(null===t||void 0===t?void 0:t.status)?"Internal Error: "+t.message+"\n\nPlease report this as a Github issue.":"compile_output"===a?"compile_error"===(null===t||void 0===t?void 0:t.status)?null!==(l=t.message)&&void 0!==l?l:"":null!==(c=null===t||void 0===t?void 0:t.compilationMessage)&&void 0!==c?c:"":null!==(u=null===t||void 0===t?void 0:t[a])&&void 0!==u?u:"");var m,p,g=(0,N._)().fileData,x=(0,ae.SE)().userData.lightMode;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Oe,{tabs:ke,activeTab:a,onTabSelect:function(e){o(e.value)}}),(0,i.jsx)("div",{className:"flex-1 bg-[#1E1E1E] text-white min-h-0 overflow-hidden tw-forms-disable tw-forms-disable-all-descendants",children:"scribble"===a?(0,i.jsx)(fe,{theme:x?"light":"vs-dark",language:"plaintext",saveViewState:!1,path:"scribble",dataTestId:"scribble-editor",options:{minimap:{enabled:!1},automaticLayout:!1,insertSpaces:!1,readOnly:f},onMount:function(e){setTimeout((function(){e.layout()}),0)},defaultValue:"",yjsDocumentId:"".concat(g.id,".scribble")}):(0,i.jsx)(Se.Z,{theme:x?"light":"vs-dark",language:"plaintext",value:s,saveViewState:!1,path:"output",options:{minimap:{enabled:!1},readOnly:!0,automaticLayout:!1,insertSpaces:!0},onMount:n})}),(0,i.jsx)("div",{className:"text-sm font-mono text-right pr-4 text-gray-200","data-test-id":"code-execution-output-status",children:t&&(0,i.jsxs)(i.Fragment,{children:[t.statusDescription,", ",null!==(m=t.time)&&void 0!==m?m:"-","s,"," ",null!==(p=t.memory)&&void 0!==p?p:"-","KB"]})})]})},Ce=n(48596);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ae=function(e){var t=e.className,n=(0,M.y)(),r=(0,h.useMemo)((function(){return n?Ie(n).filter((function(e){return e.name})).sort((function(e,t){return(0,M.k)(e)!==(0,M.k)(t)?(0,M.k)(e)?-1:1:e.permission!==t.permission?"OWNER"===e.permission?-1:"OWNER"===t.permission?1:"READ_WRITE"===e.permission?-1:"READ_WRITE"===t.permission?1:-1:e.name.localeCompare(t.name)})):null}),[n]);return(0,i.jsxs)("div",{className:b()("flex flex-col",t),children:[(0,i.jsx)("div",{className:"font-medium px-4 pb-2",children:"Users"}),(0,i.jsx)("ul",{className:"px-4 flex-1 overflow-y-auto min-h-0",children:(r||[]).map((function(e){return(0,i.jsx)(Ce.Q,{user:e},e.id)}))})]})};function De(e){return 6===e.length?1:+e.substring(7)}function Re(e){var t=e.samples,n=e.inputTab,r=e.handleRunCode,a=t[De(n)-1];return(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsxs)("button",{type:"button",className:"relative flex-shrink-0 inline-flex items-center px-4 py-2 w-40 shadow-sm text-sm font-medium text-white bg-indigo-900 hover:bg-indigo-800 focus:bg-indigo-800 focus:outline-none",onClick:r,children:[(0,i.jsx)(U.Z,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),(0,i.jsxs)("span",{className:"text-center flex-1",children:["Run ",n]})]}),(0,i.jsx)("p",{className:"font-bold mt-4",children:"INPUT:"}),(0,i.jsx)("pre",{className:"-mx-4 sm:-mx-6 md:mx-0 md:rounded p-4 mt-4 mb-4 whitespace-pre-wrap break-all bg-gray-700",children:a.input}),(0,i.jsx)("p",{className:"font-bold",children:"OUTPUT:"}),(0,i.jsx)("pre",{className:"-mx-4 sm:-mx-6 md:mx-0 md:rounded p-4 mt-4 mb-4 whitespace-pre-wrap break-all bg-gray-700",children:a.output})]})}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Pe(e,t,n[t])}))}return e}function Me(){var e,t,n=(0,N._)(),r=n.fileData,a=n.updateFileData;return[null!==(t=null===(e=r.state)||void 0===e?void 0:e.judge_resuts)&&void 0!==t?t:[],function(e){return a({state:_e({},r.state,{judge_resuts:e})})}]}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){We(e,t,n[t])}))}return e}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e){var t,n=e.handleRunCode,r=e.tabsList,a=(0,N._)().fileData,o=(0,w.b9)(j.Up),s=q("(min-width: 1024px)",!0),l=(0,w.Dv)(H),c=Ue((0,w.KO)($),2),u=c[0],d=c[1],f=(0,w.Dv)(J),m=(0,w.b9)(j.Fi),p=(0,w.b9)(j.NV),g=Ue((0,w.KO)(Q),2),x=g[0],v=g[1],y=(0,C.Z)(),O=!("OWNER"===y||"READ_WRITE"===y),S=Ue(Me(),2),k=S[0];S[1];(0,h.useEffect)((function(){var e=function(){o()};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[o]),(0,h.useEffect)((function(){s||o()}),[s,l,o]);var E=(0,h.useState)(null),T=E[0],I=E[1];(0,h.useEffect)((function(){I(null),v(a.settings.problem),a.settings.problem&&d("judge")}),[null===(t=a.settings.problem)||void 0===t?void 0:t.id]);var A=(0,w.Dv)(X),D=(0,ae.SE)().userData.lightMode;return(0,i.jsx)(te.Z,{onDragEnd:function(){return o()},render:function(e){var t=e.getGridProps,o=e.getGutterProps;return(0,i.jsxs)("div",Ze({className:"grid grid-cols-[3fr,3px,2fr,3px,1fr] grid-rows-[1fr,3px,1fr] h-full overflow-hidden"},t(),{children:[(0,i.jsx)(ge,{className:b()("row-span-full min-w-0 overflow-hidden border-t border-black",!s&&"col-span-full",!s&&"code"!==l&&"hidden")}),(0,i.jsx)("div",Ze({className:b()("row-span-full col-start-2 cursor-[col-resize] mx-[-6px] group relative z-10",!s&&"hidden")},o("column",1),{children:(0,i.jsx)("div",{className:"absolute h-full left-[6px] right-[6px] bg-black group-hover:bg-gray-600 group-active:bg-gray-600 pointer-events-none transition"})})),(0,i.jsxs)("div",{className:b()("flex flex-col min-w-0 min-h-0 overflow-hidden",!s&&"col-span-full mb-[6px]",!s&&"io"!==l&&"hidden",s&&(f?"col-span-1":"col-span-3")),children:[(0,i.jsx)(Oe,{tabs:r,activeTab:u,onTabSelect:function(e){return d(e.value)}}),(0,i.jsxs)("div",{className:"flex-1 bg-[#1E1E1E] text-white min-h-0 overflow-hidden",children:["input"===u&&(0,i.jsx)(fe,{theme:D?"light":"vs-dark",language:"plaintext",saveViewState:!1,path:"input",dataTestId:"input-editor",options:{minimap:{enabled:!1},automaticLayout:!1,insertSpaces:!1,readOnly:O},onMount:function(e){m(e),setTimeout((function(){e.layout()}),0)},defaultValue:"",yjsDocumentId:"".concat(a.id,".input")}),"judge"===u&&x&&(0,i.jsx)(Ne,{problem:x,statusData:T,setStatusData:I,handleRunCode:n}),u.startsWith("Sample")&&x&&(0,i.jsx)("div",{className:"overflow-y-auto h-full",children:(0,i.jsx)("div",{className:"p-4 pb-0",children:(0,i.jsx)(Re,{samples:x.samples,inputTab:u,handleRunCode:n})})})]})]}),(0,i.jsx)("div",Ze({className:b()("cursor-[row-resize] group relative z-10 my-[-6px]",!s&&"col-span-full",!s&&"io"!==l&&"hidden",s&&(f?"col-span-1":"col-span-3"))},o("row",1),{children:(0,i.jsx)("div",{className:b()("absolute w-full bg-black group-hover:bg-gray-600 group-active:bg-gray-600 group-focus:bg-gray-600 pointer-events-none transition",s?"top-[6px] bottom-[6px]":"inset-y-0 bg-gray-800 flex items-center justify-center"),children:!s&&(0,i.jsx)(ee.Z,{className:"h-5 w-5 text-gray-200"})})})),(0,i.jsx)("div",{className:b()("flex flex-col min-w-0 min-h-0 overflow-hidden",!s&&"col-span-full mt-[6px]",!s&&"io"!==l&&"hidden",s&&(f?"col-span-1":"col-span-3")),children:(0,i.jsx)(Ee,{result:k[A],onMount:function(e){p(e),setTimeout((function(){e.layout()}),0)}})}),(f&&s||!s&&"users"===l)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",Ze({className:b()("row-span-full col-start-4 cursor-[col-resize] mx-[-6px] group relative z-10",!s&&"hidden")},o("column",3),{children:(0,i.jsx)("div",{className:"absolute h-full left-[6px] right-[6px] bg-black group-hover:bg-gray-600 group-active:bg-gray-600 pointer-events-none transition"})})),(0,i.jsxs)("div",{className:b()("row-span-full min-w-0 bg-[#1E1E1E] text-gray-200 flex flex-col overflow-auto",s?"col-start-5":"col-span-full pt-4"),children:[(0,i.jsx)(Ae,{className:"max-w-full max-h-64"}),(0,i.jsx)(le,{className:"flex-1 p-4 min-h-0"})]})]})]}))}})}var ze=n(86179),Ve=n(4957),Be=n(253),Ke=function(e){var t=e.IconComponent,n=e.label,r=e.isActive,a=e.onClick;return(0,i.jsxs)("button",{className:"".concat(r?"text-gray-200":"text-gray-400"," flex flex-col items-center focus:outline-none py-1 transition"),onClick:function(){return a()},children:[(0,i.jsx)(t,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:"text-sm",children:n})]})},Ge=function(e){return(0,i.jsxs)("div",{className:"bg-[#1E1E1E] grid grid-cols-3",children:[(0,i.jsx)(Ke,{IconComponent:ze.Z,label:"Code",isActive:"code"===e.activeTab,onClick:function(){return e.onActiveTabChange("code")}}),(0,i.jsx)(Ke,{IconComponent:Ve.Z,label:"Input/Output",isActive:"io"===e.activeTab,onClick:function(){return e.onActiveTabChange("io")}}),(0,i.jsx)(Ke,{IconComponent:Be.Z,label:"Users",isActive:"users"===e.activeTab,onClick:function(){return e.onActiveTabChange("users")}})]})},He=n(85479),Je=n(31415),$e=n(75289),Qe=n(2078),Ye=n(76786),Xe=n(70027),qe=["Normal","Vim"];function et(e){var t=e.name,n=e.onNameChange,r=e.editorMode,a=e.onEditorModeChange,o=e.tabSize,s=e.onTabSizeChange,l=e.lightMode,c=e.onLightModeChange;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"name",className:"block font-medium text-gray-700",children:"User Name"}),(0,i.jsx)("div",{className:"mt-1",children:(0,i.jsx)("input",{type:"text",name:"name",id:"name",className:"mt-0 block w-full px-0 pt-0 pb-1 border-0 border-b-2 border-gray-200 focus:ring-0 focus:border-black text-sm",value:t,onChange:function(e){n(e.target.value)}})})]}),(0,i.jsx)("div",{children:(0,i.jsxs)(Xe.E,{value:r,onChange:a,children:[(0,i.jsx)(Xe.E.Label,{className:"font-medium text-gray-800 mb-4",children:"Editor Mode"}),(0,i.jsx)("div",{className:"bg-white rounded-md space-x-4",children:qe.map((function(e){return(0,i.jsx)(Xe.E.Option,{value:e,className:"relative inline-flex items-center cursor-pointer focus:outline-none",children:function(t){var n=t.active,r=t.checked;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:b()(r?"bg-indigo-600 border-transparent":"bg-white border-gray-300",n?"ring-2 ring-offset-2 ring-indigo-500":"","h-4 w-4 mt-0.5 cursor-pointer rounded-full border flex items-center justify-center"),"aria-hidden":"true",children:(0,i.jsx)("span",{className:"rounded-full bg-white w-1.5 h-1.5"})}),(0,i.jsx)("div",{className:"ml-2 flex flex-col",children:(0,i.jsx)(Xe.E.Label,{as:"span",className:b()(r?"text-gray-800":"text-gray-600","block text-sm font-medium"),children:e})})]})}},e)}))})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)(Xe.E,{value:o,onChange:s,children:[(0,i.jsx)(Xe.E.Label,{className:"font-medium text-gray-800 mb-4",children:"Tab Size"}),(0,i.jsx)("div",{className:"bg-white rounded-md space-x-4",children:[2,4,8].map((function(e){return(0,i.jsx)(Xe.E.Option,{value:e,className:"relative inline-flex items-center cursor-pointer focus:outline-none",children:function(t){var n=t.active,r=t.checked;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:b()(r?"bg-indigo-600 border-transparent":"bg-white border-gray-300",n?"ring-2 ring-offset-2 ring-indigo-500":"","h-4 w-4 mt-0.5 cursor-pointer rounded-full border flex items-center justify-center"),"aria-hidden":"true",children:(0,i.jsx)("span",{className:"rounded-full bg-white w-1.5 h-1.5"})}),(0,i.jsx)("div",{className:"ml-2 flex flex-col",children:(0,i.jsx)(Xe.E.Label,{as:"span",className:b()(r?"text-gray-800":"text-gray-600","block text-sm font-medium"),children:e})})]})}},e)}))})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)(Xe.E,{value:l,onChange:c,children:[(0,i.jsx)(Xe.E.Label,{className:"font-medium text-gray-800 mb-4",children:"Theme"}),(0,i.jsx)("div",{className:"bg-white rounded-md space-x-4",children:[!1,!0].map((function(e){return(0,i.jsx)(Xe.E.Option,{value:e,className:"relative inline-flex items-center cursor-pointer focus:outline-none",children:function(t){var n=t.active,r=t.checked;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:b()(r?"bg-indigo-600 border-transparent":"bg-white border-gray-300",n?"ring-2 ring-offset-2 ring-indigo-500":"","h-4 w-4 mt-0.5 cursor-pointer rounded-full border flex items-center justify-center"),"aria-hidden":"true",children:(0,i.jsx)("span",{className:"rounded-full bg-white w-1.5 h-1.5"})}),(0,i.jsx)("div",{className:"ml-2 flex flex-col",children:(0,i.jsx)(Xe.E.Label,{as:"span",className:b()(r?"text-gray-800":"text-gray-600","block text-sm font-medium"),children:e?"Light":"Dark"})})]})}},e?"Light":"Dark")}))})]})})]})}var tt=n(97105),nt=n(94075);function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rt(e,t,n[t])}))}return e}function it(e){var t=e.workspaceSettings,n=e.onWorkspaceSettingsChange,r=e.userPermission;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"workspace_name",className:"block font-medium text-gray-700",children:"Workspace Name"}),(0,i.jsx)("div",{className:"mt-1",children:(0,i.jsx)("input",{type:"text",name:"workspace_name",id:"workspace_name",className:"mt-0 block w-full px-0 pt-0 pb-1 border-0 border-b-2 border-gray-200 focus:ring-0 focus:border-black text-sm",value:t.workspaceName||"",onChange:function(e){return("OWNER"===r||"READ_WRITE"===r)&&n({workspaceName:e.target.value})},disabled:!("OWNER"===r||"READ_WRITE"===r)})})]}),(0,i.jsx)(nt.D,{title:"Language",value:t.language,onChange:function(e){return n({language:e})},disabled:!("OWNER"===r||"READ_WRITE"===r),options:ae.a2}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"compiler_options",className:"block font-medium text-gray-700",children:[ae.a2.find((function(e){return e.value===t.language})).label," ","Compiler Options"]}),(0,i.jsx)("div",{className:"mt-1",children:(0,i.jsx)("input",{type:"text",name:"compiler_options",id:"compiler_options",className:"mt-0 block w-full px-0 pt-0 pb-1 border-0 border-b-2 border-gray-200 focus:ring-0 focus:border-black font-mono text-sm",value:t.compilerOptions[t.language],placeholder:"None",onChange:function(e){return("OWNER"===r||"READ_WRITE"===r)&&n({compilerOptions:at({},t.compilerOptions,rt({},t.language,e.target.value))})},disabled:!("OWNER"===r||"READ_WRITE"===r)})})]}),(0,i.jsx)(tt.h,{value:t.defaultPermission,onChange:function(e){return"OWNER"===r&&n({defaultPermission:e})},isOwner:"OWNER"===r})]})}var ot=n(28568),st=n(67714),lt=n(78246),ct=n(56843),ut=n(70290),dt=n.n(ut)()("3CFULMFIDW","b1b046e97b39abe6c905e0ad1df08d9e"),ft=(0,lt.Z)((function(e){var t=e.hits,n=e.currentRefinement,r=e.refine,a=e.onSelect,o=e.canChange;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"flex items-center relative",children:(0,i.jsx)("input",{type:"search",name:"problem-select",id:"problem-select",className:"mt-0 block w-full px-0 pt-0 pb-1 border-0 border-b-2 border-gray-200 focus:ring-0 focus:border-black text-sm placeholder-gray-400",value:n,placeholder:"e.g. http://www.usaco.org/index.php?page=viewproblem2&cpid=1140",onChange:function(e){return r(e.target.value)},autoComplete:"off",autoFocus:!0,disabled:!o})}),""!==n&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm max-h-[20rem] overflow-y-auto border-t divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",children:t.map((function(e){return(0,i.jsxs)("button",{className:"block hover:bg-blue-100 dark:hover:bg-gray-700 py-3 px-5 transition focus:outline-none w-full text-left",onClick:function(){r(""),a(e)},children:[(0,i.jsxs)("h3",{className:"text-gray-600 dark:text-gray-200 font-medium",children:[(0,i.jsx)(ot.Z,{hit:e,attribute:"title"})," (",(0,i.jsx)(ot.Z,{hit:e,attribute:"id"}),")"]}),(0,i.jsx)("p",{className:"text-gray-700 dark:text-gray-400 text-sm",children:(0,i.jsx)(ot.Z,{hit:e,attribute:"source"})})]},e.id)}))}),(0,i.jsx)("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-700",children:(0,i.jsx)(st.Z,{theme:"dark"})})]})]})})),mt=function(e){var t=e.onSelect,n=e.canChange;return(0,i.jsx)(ct.Z,{indexName:"usacoProblems",searchClient:dt,children:(0,i.jsx)(ft,{onSelect:t,canChange:n})})};function pt(e){var t=e.workspaceSettings,n=e.onWorkspaceSettingsChange,r=e.userPermission,a="READ_WRITE"===r||"OWNER"===r,o=t.problem;return(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"problem-select",className:"block font-medium text-gray-700",children:"USACO Problem Selection"}),o?(0,i.jsxs)("p",{className:"text-sm text-gray-500 mt-1 mb-2",children:["Currently Selected:"," ",(0,i.jsx)("span",{className:"text-green-500",children:o.source+": "+o.title+" ("+o.id+")"})]}):(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-1 mb-2",children:"Paste the problem URL or search for it."}),(0,i.jsx)(mt,{onSelect:function(e){n({problem:{id:e.id,submittable:e.submittable,url:e.url,source:e.source,title:e.title,input:e.input,output:e.output,samples:e.samples}})},canChange:a}),(0,i.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"This will allow you to submit to USACO servers directly from the IDE."})]})})})}var gt=n(71309),ht=n(16911),xt="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:bg-gray-50 disabled:cursor-not-allowed disabled:text-gray-400";function bt(){var e=(0,ae.SE)().firebaseUser,t=(0,ht.K)(),n=(0,w.b9)(gt.xR);return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"block font-medium text-gray-700",children:"Sign In"}),(0,i.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:"This will sync your files across devices. If this is your first time signing in, your data will be linked automatically. However, if this is not your first time signing in, your local data will be overwritten by the server data."}),e&&(0,i.jsxs)("p",{className:"mt-1 text-sm text-gray-700",children:["Signed in",e.isAnonymous?" anonymously":""," as"," ",e.displayName]}),(0,i.jsx)("div",{className:"h-2"}),!e||e.isAnonymous?(0,i.jsxs)("button",{className:xt+" pl-3",onClick:function(){return n(t)},children:[(0,i.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 48 48",className:"abcRioButtonSvg",children:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),(0,i.jsx)("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),(0,i.jsx)("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),(0,i.jsx)("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),(0,i.jsx)("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),(0,i.jsx)("span",{className:"ml-3",children:"Sign In With Google"})]}):(0,i.jsx)("button",{className:xt+" pl-3",onClick:function(){t.clearConnectionRefs(),ne.Z.auth().signOut()},type:"button",children:(0,i.jsx)("span",{children:"Sign Out"})})]})}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jt(e,t,n[t])}))}return e}function Nt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var St=[{id:"workspace",label:"Workspace",icon:$e.Z},{id:"user",label:"User",icon:Qe.Z},{id:"judge",label:"Judge",icon:Ye.Z}],kt=function(e){var t=e.isOpen,n=e.onClose,r=(0,ae.SE)(),o=r.userData,s=r.firebaseUser,l=r.updateUsername,u=(0,N._)(),d=u.fileData,f=u.updateFileData,m=u.doNotInitializeTheseFileIdsRef,p=d.settings,g=(0,C.Z)(),x=(0,h.useReducer)((function(e,t){return wt({},e,t)}),p),v=x[0],y=x[1],j=(0,h.useState)(""),w=j[0],O=j[1],S=(0,h.useState)("Normal"),k=S[0],E=S[1],T=(0,h.useState)(-1),I=T[0],A=T[1],D=(0,h.useState)(!1),R=D[0],P=D[1],_=(0,h.useRef)(!1),M=(0,h.useState)("workspace"),F=M[0],W=M[1],Z=Ot(Me(),2),U=Z[0],L=Z[1];(0,h.useEffect)((function(){var e;t&&(y(p),O(null!==(e=s.displayName)&&void 0!==e?e:""),E(o.editorMode),A(o.tabSize),P(o.lightMode),_.current=!1,W("workspace"))}),[t]);var z=function(){_.current?confirm("Are you sure you want to exit without saving your changes?")&&n():n()},V=function(){var e,t=(e=a().mark((function e(){var t,r,i,o,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e,t){for(;e.length>t;)e.pop();for(;e.length<t;)e.push(null);return e},w){e.next=4;break}return alert("User Name cannot be empty. Fix before saving."),e.abrupt("return");case 4:if((t=v).creationTime,r=Nt(t,["creationTime"]),t=r,"OWNER"!==g&&(t.defaultPermission,i=Nt(t,["defaultPermission"]),t=i),p.problem!=t.problem){for(o=U;o.length>1;)o.pop();t.problem?(u=t.problem.samples,L(c(o,2+u.length))):L(o)}p.language!==t.language&&(m.current[d.id+"."+t.language]=!1),f({settings:wt({},p,t)}),ne.Z.database().ref("users/".concat(s.uid,"/data")).update({editorMode:k,tabSize:I,lightMode:R}),w!==s.displayName&&l(w),n();case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){yt(i,r,a,o,s,"next",e)}function s(e){yt(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),B=function(e){_.current=!0,y(e)};return(0,i.jsx)(c.u.Root,{show:t,as:h.Fragment,children:(0,i.jsx)(He.V,{as:"div",static:!0,className:"fixed z-10 inset-0 overflow-y-auto",open:t,onClose:function(){return z()},children:(0,i.jsxs)("div",{className:"flex items-end justify-center min-h-full pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,i.jsx)(c.u.Child,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)(He.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),(0,i.jsx)(c.u.Child,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,i.jsxs)("div",{className:"inline-block bg-white md:rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-2xl w-full",children:[(0,i.jsx)("div",{className:"px-4 sm:px-6 pt-4 pb-2",children:(0,i.jsx)(He.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900 text-center",children:"Settings"})}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"border-b border-gray-200",children:(0,i.jsx)("nav",{className:"-mb-px flex",children:St.map((function(e){return(0,i.jsxs)("button",{className:b()(F===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","w-1/2 group flex items-center justify-center py-3 px-1 border-b-2 font-medium text-sm focus:outline-none"),onClick:function(){return W(e.id)},children:[(0,i.jsx)(e.icon,{className:b()(F===e.id?"text-indigo-500":"text-gray-400 group-hover:text-gray-500","-ml-0.5 mr-2 h-5 w-5")}),e.label]},e.id)}))})})}),(0,i.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:["user"===F&&(0,i.jsx)(et,{name:w||"",onNameChange:function(e){O(e),_.current=!0},editorMode:k,onEditorModeChange:function(e){E(e),_.current=!0},tabSize:I,onTabSizeChange:function(e){A(e),_.current=!0},lightMode:R,onLightModeChange:function(e){P(e),_.current=!0}}),"workspace"===F&&(0,i.jsx)(it,{workspaceSettings:v,onWorkspaceSettingsChange:B,userPermission:g||"READ"}),"judge"===F&&(0,i.jsx)(pt,{workspaceSettings:v,onWorkspaceSettingsChange:B,userPermission:g||"READ"}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){return z()},children:"Cancel"}),(0,i.jsx)("button",{type:"button",className:"inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){return V()},children:"Save"}),"judge"===F&&(0,i.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){B({problem:null})},children:"Clear"})]}),"user"===F&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:"border-gray-200"}),(0,i.jsx)(bt,{})]})]}),(0,i.jsx)("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:(0,i.jsxs)("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){return z()},children:[(0,i.jsx)("span",{className:"sr-only",children:"Close"}),(0,i.jsx)(Je.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]})})]})})})},Et=n(26054),Ct=n(28955);function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(){var e=(0,N._)().fileData,t=(0,ae.SE)().userData,n=(0,M.y)(),r=e.settings,a=(0,C.Z)();(0,h.useEffect)((function(){document.title="".concat(r.workspaceName?r.workspaceName+" \xb7 ":"","Real-Time Collaborative Online IDE")}),[r.workspaceName]);var i=(0,h.useMemo)((function(){var e=null===n||void 0===n?void 0:n.find((function(e){return"OWNER"===e.permission}));return e?{name:e.name,id:e.id}:null}),[n]);(0,h.useEffect)((function(){if(null!==a&&i&&null!==r.workspaceName){if(!e.id)throw new Error("fileData.id was null");var n,o=ne.Z.database().ref("users").child(t.id).child("files").child(e.id);if("PRIVATE"===a)o.remove();else o.set(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Tt(e,t,n[t])}))}return e}({title:r.workspaceName||"",lastAccessTime:ne.Z.database.ServerValue.TIMESTAMP,creationTime:null!==(n=r.creationTime)&&void 0!==n?n:null,lastPermission:a,lastDefaultPermission:r.defaultPermission,hidden:!1,version:2},i?{owner:i}:{}))}}),[a,r.workspaceName,r.creationTime,r.defaultPermission,null===i||void 0===i?void 0:i.id,null===i||void 0===i?void 0:i.name,e.id])}var At=n(1345);function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function Pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Rt(i,r,a,o,s,"next",e)}function s(e){Rt(i,r,a,o,s,"throw",e)}o(void 0)}))}}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(){var e=(0,N._)(),t=e.fileData,n=e.updateFileData,r=(0,C.Z)(),o=(0,w.Dv)(j.zK),s=_t((0,w.KO)(J),2),l=s[0],c=s[1],u=!("OWNER"===r||"READ_WRITE"===r),d=(0,h.useState)(!1),f=d[0],m=d[1],p=q("(min-width: 1024px)",!0),g=(0,w.b9)(j.Up),x=_t((0,w.KO)(H),2),b=x[0],v=x[1],y=(0,w.Dv)(j.Fi),O=(0,w.Dv)(j.wN),S=_t(Me(),2),k=S[0],T=S[1];!function(){var e=(0,ht.K)(),t=(0,ae.SE)(),n=t.userData,r=t.firebaseUser,a=(0,N._)().fileData;(0,h.useEffect)((function(){ne.Z.database().ref("files/".concat(a.id,"/users/").concat(n.id)).update({name:r.displayName,color:(0,Ct.Z)(n.id)});var t=ne.Z.database().ref("files/".concat(a.id,"/users/").concat(n.id,"/connections")).push();return e.addConnectionRef(t),function(){return e.removeConnectionRef(t)}}),[a.id,r.displayName])}(),It();var I=_t((0,w.KO)($),2),D=I[0],R=I[1],P=(0,w.Dv)(Y),_=(0,w.Dv)(X);(0,h.useEffect)((function(){_===P.length&&R(P[0].value)}),[P,D,R,_]);var M=function(){var e=t.settings.problem,r=function(e){n({isCodeRunning:e})},i=function(n,r){var a;return E(t.settings.language,n,r,t.settings.compilerOptions[t.settings.language],(null===e||void 0===e||null===(a=e.input)||void 0===a?void 0:a.endsWith(".in"))?e.input.substring(0,e.input.length-3):void 0)},o=function(e,t){for(var n=k;n.length<=e;)n.push(null);n[e]=t,T(n)},s=function(e,t,n){if(O){r(!0),o(_,null);var s=O.getValue();i(s,e).then(function(){var e=Pt(a().mark((function e(r){var i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:i=e.sent,r.ok?((0,Et.QA)(i,t,n),o(_,i)):"Function.ResponseSizeTooLarge"===(null===(s=i.debugData)||void 0===s?void 0:s.errorType)?alert("Error: Your program printed too much data to stdout/stderr."):alert("Error: "+r.status+" - "+JSON.stringify(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert("Error: "+e.message+". Perhaps the server is down, or your input is too large."),console.error(e)})).finally((function(){return r(!1)}))}},l=function(){var t=Pt(a().mark((function t(){var n,s,l,c,u,d,f,m,p,g,h,x,b,v,y,j,w,N,S,E,C;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&O){t.next=2;break}return t.abrupt("return");case 2:for(n=e.samples,r(!0),o(1,null),s=O.getValue(),t.prev=6,l=[],c=0;c<n.length;++c)u=n[c],l.push(i(s,u.input));d=k,f=[],m=0;case 12:if(!(m<n.length)){t.next=33;break}return p=n[m],t.next=16,l[m];case 16:return g=t.sent,t.next=19,g.json();case 19:if(h=t.sent,g.ok&&"internal_error"!==h.status){t.next=24;break}throw alert("Error: "+(h.message||g.status+" - "+JSON.stringify(h))),console.error(h),new Error("bad judge result");case 24:x="Sample",n.length>1&&(x+=" ".concat(m+1)),x+=": ",(0,Et.QA)(h,p.output,x),f.push(h),d[2+m]=h;case 30:++m,t.next=12;break;case 33:if(!(n.length>1)){t.next=68;break}b="",v=!0,y=!1,j=void 0,t.prev=36,w=f[Symbol.iterator]();case 38:if(v=(N=w.next()).done){t.next=47;break}if("compile_error"!==(S=N.value).status){t.next=43;break}return T([S]),t.abrupt("break",47);case 43:"success"===S.status?b+="A":"wrong_answer"===S.status?b+="W":"time_limit_exceeded"===S.status?b+="T":"runtime_error"===S.status?b+="R":b+="?";case 44:v=!0,t.next=38;break;case 47:t.next=53;break;case 49:t.prev=49,t.t0=t.catch(36),y=!0,j=t.t0;case 53:t.prev=53,t.prev=54,v||null==w.return||w.return();case 56:if(t.prev=56,!y){t.next=59;break}throw j;case 59:return t.finish(56);case 60:return t.finish(53);case 61:for(E=0;E<n.length-1&&"A"===b[E];)++E;C=JSON.parse(JSON.stringify(f[E])),b.length>1&&(C.statusDescription="Sample Verdicts: "+b+". "+C.statusDescription),d[1]=C,t.next=69;break;case 68:d[1]=d[2];case 69:T(d),t.next=75;break;case 72:t.prev=72,t.t1=t.catch(6),console.error(t.t1);case 75:r(!1);case 76:case"end":return t.stop()}}),t,null,[[6,72],[36,49,53,61],[54,,56,60]])})));return function(){return t.apply(this,arguments)}}();if("input"===D)y&&s(y.getValue());else if("judge"===D)l();else{var c=null===e||void 0===e?void 0:e.samples;if(c){var u=c[De(D)-1];s(u.input,u.output,D+": ")}}};return(0,i.jsxs)("div",{className:"h-full",children:[(0,i.jsxs)("div",{className:"h-full flex flex-col",children:[(0,i.jsx)("div",{className:"flex-shrink-0 bg-[#1E1E1E]",children:(0,i.jsx)(Z,{fileMenu:(0,i.jsx)(A,{onOpenSettings:function(){return m(!0)}}),runButton:(0,i.jsx)(B,{onClick:M,showLoading:t.isCodeRunning||o,disabledForViewOnly:u}),showViewOnly:!o&&u,isSidebarOpen:l,onToggleSidebar:function(){c((function(e){return!e})),setTimeout((function(){g()}),0)},showSidebarButton:p})}),(0,i.jsx)("div",{className:"flex-1 min-h-0",children:(0,i.jsx)(Le,{handleRunCode:M,tabsList:P})}),!p&&(0,i.jsx)(Ge,{activeTab:b,onActiveTabChange:v})]}),(0,i.jsx)(kt,{isOpen:f,onClose:function(){return m(!1)}})]})}function Ft(){var e=(0,o.useRouter)().query.id,t="-"+e,n=(0,ae.tO)().userData,r=(0,i.jsx)(s.Q,{message:"Loading...",showHomeButton:!1}),a="https://legacy.ide.usaco.guide/".concat(e),l=(0,i.jsx)("div",{className:"p-8 sm:p-16",children:(0,i.jsxs)("div",{className:" max-w-prose mx-auto",children:[(0,i.jsx)("div",{className:"text-3xl sm:text-4xl text-white font-bold",children:"File Not Found"}),(0,i.jsxs)("p",{className:"sm:text-lg mt-8 text-gray-200 max-w-prose mx-auto text-left",children:["Note: The IDE was recently updated to use a new backend system. If you're trying to access an old file you created with the old version of the IDE, try this link:"," ",(0,i.jsx)("a",{href:a,className:"font-medium text-white underline",children:a})]}),(0,i.jsx)(W(),{href:"/",children:(0,i.jsx)("a",{className:"mt-6 sm:mt-10 inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-[#1E1E1E]",children:"Go Home"})})]})}),c=(0,i.jsx)(s.Q,{message:"This file is private."});return e?n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.K,{fileId:t,loadingUI:r,fileNotFoundUI:l,permissionDeniedUI:c,children:(0,i.jsx)(Mt,{})}),(0,i.jsx)(At.I,{})]}):r:null}},62179:function(e,t,n){"use strict";n.d(t,{Fi:function(){return o},NV:function(){return s},Up:function(){return l},wN:function(){return i},zK:function(){return a}});var r=n(91131),a=(0,r.cn)(!0),i=(0,r.cn)(null),o=(0,r.cn)(null),s=(0,r.cn)(null),l=(0,r.cn)(null,(function(e,t,n){var r,a,l;null===(r=e(i))||void 0===r||r.layout(),null===(a=e(o))||void 0===a||a.layout(),null===(l=e(s))||void 0===l||l.layout()}))},18305:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(85893),a=(n(67294),n(41664)),i=n.n(a),o=function(e){var t=e.message,n=e.showHomeButton,a=void 0===n||n;return(0,r.jsxs)("div",{className:"p-8 sm:p-16 text-center",children:[(0,r.jsx)("div",{className:"text-3xl sm:text-4xl text-white font-bold",children:t}),a&&(0,r.jsx)(i(),{href:"/",children:(0,r.jsx)("a",{className:"mt-6 sm:mt-10 inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-[#1E1E1E]",children:"Go Home"})})]})}},24070:function(e,t,n){"use strict";var r=n(85893),a=n(5152),i=n.n(a),o=(n(67294),i()((function(){return Promise.all([n.e(4078),n.e(5092),n.e(7811),n.e(8335),n.e(5124)]).then(n.bind(n,45124))}),{loadableGenerated:{webpack:function(){return[45124]}},loading:function(){return(0,r.jsx)("div",{children:"Loading..."})},ssr:!1}));t.Z=o},97105:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(85893),a=(n(67294),n(94075)),i=[{label:"Public Read & Write",value:"READ_WRITE"},{label:"Public View Only",value:"READ"},{label:"Private",value:"PRIVATE"}],o=function(e){var t=e.value,n=e.onChange,o=e.isOwner,s=e.lightMode;return(0,r.jsx)(a.D,{title:"Default Sharing Permissions",value:t,onChange:n,disabled:!o,options:i,lightMode:s})}},28955:function(e,t,n){"use strict";function r(e,t,n){var r=function(e){var t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t};return"#"+r(e)+r(t)+r(n)}function a(e,t,n){if(0===t)return r(n,n,n);var a=n<.5?n*(1+t):n+t-t*n,i=2*n-a,o=function(e){return e<0&&(e+=1),e>1&&(e-=1),6*e<1?i+6*(a-i)*e:2*e<1?a:3*e<2?i+6*(a-i)*(2/3-e):i};return r(o(e+1/3),o(e),o(e-1/3))}function i(e){for(var t=1,n=0;n<e.length;n++)t=17*(t+e.charCodeAt(n))%360;return a(t/360,.75,.6)}function o(e){for(var t=1,n=0;n<e.length;n++)t=17*(t+e.charCodeAt(n))%360;return a(t/360,.4,.3)}n.d(t,{Z:function(){return i},s:function(){return o}})}},function(e){e.O(0,[3424,6063,474,2613,9774,2888,179],(function(){return t=96877,e(e.s=t);var t}));var t=e.O();_N_E=t}]);